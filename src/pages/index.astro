---
import Layout from '../layouts/Layout.astro';
---

<Layout>
  <main class="max-w-3xl mx-auto p-6 space-y-12">
    <section class="text-center section-animate opacity-0 translate-y-8 parallax" data-parallax="0.1">
      <h1 class="text-4xl font-bold mb-4">Про мене</h1>
      <p class="text-lg mb-4">Займаюсь йогою багато років, люблю досліджувати людей. Проводжу уроки кожного четверга, вартість 15 євро.</p>
      <div class="flex justify-center gap-4 mt-6">
        <img src="/src/assets/astro.svg" alt="Йога" class="w-32 h-32 rounded-lg shadow-lg animate-fade-in parallax" data-parallax="0.2" />
        <img src="/src/assets/background.svg" alt="Йога фон" class="w-32 h-32 rounded-lg shadow-lg animate-fade-in parallax" data-parallax="0.15" />
      </div>
    </section>

    <section class="text-center section-animate opacity-0 translate-y-8 parallax" data-parallax="0.08">
      <h2 class="text-3xl font-semibold mb-2">Про курси</h2>
      <p>Детальна інформація про курси з йоги, розклад, рівні та особливості занять.</p>
    </section>

    <section class="text-center section-animate opacity-0 translate-y-8 parallax" data-parallax="0.06">
      <h2 class="text-3xl font-semibold mb-2">Розсилка новин</h2>
      <form class="flex flex-col items-center gap-2 max-w-xs mx-auto">
        <input type="email" placeholder="Ваш email" class="border rounded px-3 py-2 w-full" required />
        <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition">Підписатися</button>
      </form>
    </section>

    <section class="text-center section-animate opacity-0 translate-y-8 parallax" data-parallax="0.04">
      <h2 class="text-3xl font-semibold mb-2">Календар та бронювання</h2>
      <p>Запишіться на заняття через календар або форму бронювання. Вартість уроку — 15 євро. Інвойси надсилаються після бронювання.</p>
      <div class="mt-4">
        <!-- Місце для інтеграції Google Calendar або сервісу бронювання -->
        <iframe src="https://calendar.google.com/calendar/embed?src=your_calendar_id&ctz=Europe%2FKiev" style="border: 0" width="300" height="200" frameborder="0" scrolling="no"></iframe>
      </div>
    </section>
  </main>

  <script>
    import gsap from 'gsap';
    if (typeof window !== 'undefined') {
      // Анімація появи секцій
      gsap.to('.section-animate', { opacity: 1, y: 0, duration: 1, stagger: 0.3, delay: 0.2 });
      // Паралакс-ефект для елементів з класом .parallax
      const parallaxEls = document.querySelectorAll('.parallax');
      window.addEventListener('mousemove', (e) => {
        const x = (e.clientX / window.innerWidth - 0.5) * 2;
        const y = (e.clientY / window.innerHeight - 0.5) * 2;
        parallaxEls.forEach(el => {
          const factor = parseFloat(el.dataset.parallax) || 0.1;
          gsap.to(el, { x: x * 30 * factor, y: y * 30 * factor, duration: 0.6, overwrite: 'auto' });
        });
      });
    }
  </script>
</Layout>
